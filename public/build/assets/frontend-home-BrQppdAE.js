document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("contactForm"),a=document.getElementById("submitBtn"),t=document.getElementById("contactAlert"),n=document.getElementById("contactAlertMessage");s&&s.addEventListener("submit",function(c){c.preventDefault(),a.disabled=!0,a.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i> Sending...',s.querySelectorAll(".is-invalid").forEach(e=>e.classList.remove("is-invalid")),s.querySelectorAll(".invalid-feedback").forEach(e=>e.textContent=""),t.style.display="none";const d=new FormData(s);fetch(s.action,{method:"POST",body:d,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}).then(e=>e.ok?e.json():e.json().then(l=>{throw{status:e.status,data:l}})).then(e=>{e.success?(t.className="alert alert-success alert-dismissible fade show",n.textContent=e.message||"Your message has been sent successfully!",t.style.display="block",s.reset(),t.scrollIntoView({behavior:"smooth",block:"center"})):(t.className="alert alert-danger alert-dismissible fade show",n.textContent=e.message||"Something went wrong. Please try again.",t.style.display="block")}).catch(e=>{if(e.status===422&&e.data.errors){const l=e.data.errors;for(const r in l){const o=s.querySelector(`[name="${r}"]`);if(o){o.classList.add("is-invalid");const i=o.parentElement.querySelector(".invalid-feedback:last-child");i&&(i.textContent=l[r][0],i.style.display="block")}}t.className="alert alert-danger alert-dismissible fade show",n.textContent="Please fix the errors below.",t.style.display="block",t.scrollIntoView({behavior:"smooth",block:"center"})}else t.className="alert alert-danger alert-dismissible fade show",n.textContent="An error occurred. Please try again later.",t.style.display="block"}).finally(()=>{a.disabled=!1,a.innerHTML='<i class="fas fa-paper-plane me-2"></i> Send Message'})})});
