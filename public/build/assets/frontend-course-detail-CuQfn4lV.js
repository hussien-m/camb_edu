$(document).ready(function(){$("#inquiryForm").on("submit",async function(r){r.preventDefault(),$(".form-control").removeClass("is-invalid"),$(".invalid-feedback").text(""),$("#inquiry-alert").hide();const e=$("#submitBtn"),s=e.html();e.prop("disabled",!0).html('<i class="fas fa-spinner fa-spin"></i> <span>Verifying...</span>');let i=null;if(typeof executeRecaptcha=="function")try{i=await executeRecaptcha("course_inquiry"),e.html('<i class="fas fa-spinner fa-spin"></i> <span>Sending...</span>')}catch{console.warn("reCAPTCHA not available, continuing without it")}const t=$(this).serializeArray();i&&t.push({name:"recaptcha_token",value:i}),$.ajax({url:$(this).attr("action"),method:"POST",data:$.param(t),success:function(a){$("#inquiry-alert").removeClass("alert-danger").addClass("alert alert-success").html('<i class="fas fa-check-circle me-2"></i> Thank you for your inquiry! We will contact you soon.').slideDown(),$("#inquiryForm")[0].reset(),e.prop("disabled",!1).html(s),setTimeout(function(){$("#inquiry-alert").slideUp()},5e3),$("html, body").animate({scrollTop:$("#inquiry-alert").offset().top-100},500)},error:function(a){if(e.prop("disabled",!1).html(s),a.status===422){const l=a.responseJSON.errors;$.each(l,function(o,c){const n=$('[name="'+o+'"]');n.addClass("is-invalid"),n.siblings(".invalid-feedback").text(c[0])}),$("#inquiry-alert").removeClass("alert-success").addClass("alert alert-danger").html('<i class="fas fa-exclamation-circle me-2"></i> Please fix the errors below.').slideDown()}else $("#inquiry-alert").removeClass("alert-success").addClass("alert alert-danger").html('<i class="fas fa-exclamation-circle me-2"></i> Something went wrong. Please try again.').slideDown();$("html, body").animate({scrollTop:$("#inquiry-alert").offset().top-100},500)}})})});
